import{j as r,b as F,r as s,u as P,l as S}from"./index-CY9RCQaF.js";import{J as M,K as N,Y as D,N as A,O,Q as q}from"./Footer-DuzvaY6S.js";import{I as E,d as k,a as R}from"./VisibilityOff-CAD39nx9.js";import{F as f,e as h,O as g}from"./OutlinedInput-CqkH6Oax.js";import{C as $}from"./CircularProgress-DNxBWgtV.js";import{A as z}from"./Alert-CQdvH0DM.js";import"./useSlot-oTC37Omy.js";var d={},B=N;Object.defineProperty(d,"__esModule",{value:!0});var v=d.default=void 0,H=B(M()),J=r;v=d.default=(0,H.default)((0,J.jsx)("path",{d:"M11 7 9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5zm9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8z"}),"Login");const K="_containerForm_1v965_1",Q="_form_1v965_19",T="_formContainer_1v965_41",l={containerForm:K,form:Q,formContainer:T};function U(){const x=F(),[m,j]=s.useState(!1),[a,y]=s.useState({login:"",password:""}),[i,u]=s.useState(!1),[c,n]=s.useState(""),w=P(e=>e.login),b=()=>j(e=>!e),C=e=>{e.preventDefault()},p=e=>{const{name:t,value:o}=e.target;y(I=>({...I,[t]:o}))},_=()=>a.login.trim()?a.password?"":"Password is required":"Name is required",L=async e=>{e.preventDefault();const t=_();if(t){n(t);return}u(!0),n("");try{const o=await S(a);o?(w(o),x("/mainPage")):n("Login failed. Please check your credentials and try again.")}catch(o){console.error("Login failed:",o),n("Login failed. Please check your credentials and try again.")}finally{u(!1)}};return r.jsx("div",{className:l.containerForm,children:r.jsxs("div",{className:l.form,children:[r.jsx("h1",{children:"Login"}),r.jsxs("form",{onSubmit:L,className:l.formContainer,children:[r.jsxs(f,{sx:{m:1,width:"25ch","& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"primary.main"},"&:hover fieldset":{borderColor:"primary.main"},"&.Mui-focused fieldset":{borderColor:"primary.main"}},"& .MuiInputLabel-root":{color:"primary.main"}},variant:"outlined",color:"primary",children:[r.jsx(h,{htmlFor:"outlined-adornment-login",children:"Name"}),r.jsx(g,{id:"outlined-adornment-login",type:"text",name:"login",value:a.login,onChange:p,label:"Name"})]}),r.jsxs(f,{sx:{m:1,width:"25ch","& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"primary.main"},"&:hover fieldset":{borderColor:"primary.main"},"&.Mui-focused fieldset":{borderColor:"primary.main"}},"& .MuiInputLabel-root":{color:"primary.main"}},variant:"outlined",color:"primary",children:[r.jsx(h,{htmlFor:"outlined-adornment-password",children:"Password"}),r.jsx(g,{id:"outlined-adornment-password",type:m?"text":"password",name:"password",value:a.password,onChange:p,endAdornment:r.jsx(E,{position:"end",children:r.jsx(D,{"aria-label":"toggle password visibility",onClick:b,onMouseDown:C,edge:"end",color:"primary",children:m?r.jsx(k,{}):r.jsx(R,{})})}),label:"Password"})]}),r.jsx(A,{type:"submit",variant:"contained",endIcon:i?r.jsx($,{size:20,color:"inherit"}):r.jsx(v,{}),disabled:i,children:i?"Logging in...":"Login"})]}),c&&r.jsx(z,{severity:"error",style:{marginTop:"1rem"},children:c})]})})}function er(){return r.jsxs(r.Fragment,{children:[r.jsx(O,{}),r.jsx(U,{}),r.jsx(q,{})]})}export{er as default};
