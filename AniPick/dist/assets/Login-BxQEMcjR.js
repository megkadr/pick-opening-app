import{m as I,j as r,o as P,r as s,n as S,C as M}from"./index-BjsokJWH.js";import{N,F as q}from"./Footer-C653QyEc.js";import{I as D,a as A,d as E,b as O,A as k}from"./VisibilityOff-ClvcETRY.js";import{n as B}from"./createSvgIcon-BLTJstb-.js";import{l as R}from"./UserService-B9DJ1_wT.js";import{F as f,e as h,O as g,B as $}from"./OutlinedInput-DcaobJLq.js";import"./useSlot-BzBorf7A.js";import"./AxiosClient-DxnD1u3Z.js";var d={},z=I;Object.defineProperty(d,"__esModule",{value:!0});var v=d.default=void 0,H=z(B()),T=r;v=d.default=(0,H.default)((0,T.jsx)("path",{d:"M11 7 9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5zm9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8z"}),"Login");const U="_containerForm_qbvte_1",V="_form_qbvte_21",G="_formContainer_qbvte_43",l={containerForm:U,form:V,formContainer:G};function J(){const x=P(),[m,j]=s.useState(!1),[n,y]=s.useState({login:"",password:""}),[i,u]=s.useState(!1),[c,a]=s.useState(""),w=S(e=>e.login),b=()=>j(e=>!e),C=e=>{e.preventDefault()},p=e=>{const{name:t,value:o}=e.target;y(F=>({...F,[t]:o}))},_=()=>n.login.trim()?n.password?"":"Password is required":"Name is required",L=async e=>{e.preventDefault();const t=_();if(t){a(t);return}u(!0),a("");try{const o=await R(n);o?(w(o),x("/mainPage")):a("Login failed. Please check your credentials and try again.")}catch(o){console.error("Login failed:",o),a("Login failed. Please check your credentials and try again.")}finally{u(!1)}};return r.jsx("div",{className:l.containerForm,children:r.jsxs("div",{className:l.form,children:[r.jsx("h1",{children:"Login"}),r.jsxs("form",{onSubmit:L,className:l.formContainer,children:[r.jsxs(f,{sx:{m:1,width:"25ch","& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"primary.main"},"&:hover fieldset":{borderColor:"primary.main"},"&.Mui-focused fieldset":{borderColor:"primary.main"}},"& .MuiInputLabel-root":{color:"primary.main"}},variant:"outlined",color:"primary",children:[r.jsx(h,{htmlFor:"outlined-adornment-login",children:"Name"}),r.jsx(g,{id:"outlined-adornment-login",type:"text",name:"login",value:n.login,onChange:p,label:"Name"})]}),r.jsxs(f,{sx:{m:1,width:"25ch","& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"primary.main"},"&:hover fieldset":{borderColor:"primary.main"},"&.Mui-focused fieldset":{borderColor:"primary.main"}},"& .MuiInputLabel-root":{color:"primary.main"}},variant:"outlined",color:"primary",children:[r.jsx(h,{htmlFor:"outlined-adornment-password",children:"Password"}),r.jsx(g,{id:"outlined-adornment-password",type:m?"text":"password",name:"password",value:n.password,onChange:p,endAdornment:r.jsx(D,{position:"end",children:r.jsx(A,{"aria-label":"toggle password visibility",onClick:b,onMouseDown:C,edge:"end",color:"primary",children:m?r.jsx(E,{}):r.jsx(O,{})})}),label:"Password"})]}),r.jsx($,{type:"submit",variant:"contained",endIcon:i?r.jsx(M,{size:20,color:"inherit"}):r.jsx(v,{}),disabled:i,children:i?"Logging in...":"Login"})]}),c&&r.jsx(k,{severity:"error",style:{marginTop:"1rem"},children:c})]})})}function or(){return r.jsxs(r.Fragment,{children:[r.jsx(N,{}),r.jsx(J,{}),r.jsx(q,{})]})}export{or as default};
