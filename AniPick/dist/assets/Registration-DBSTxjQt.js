import{j as r,b as R,r as s,d as D}from"./index-CY9RCQaF.js";import{J as E,K as N,Y as g,N as O,O as A,Q as L}from"./Footer-DuzvaY6S.js";import{I as f,d as C,a as b}from"./VisibilityOff-CAD39nx9.js";import{d as q}from"./Send-BrzasPRk.js";import{F as l,e as d,O as m}from"./OutlinedInput-CqkH6Oax.js";import{C as $}from"./CircularProgress-DNxBWgtV.js";import{A as k}from"./Alert-CQdvH0DM.js";import"./useSlot-oTC37Omy.js";var x={},B=N;Object.defineProperty(x,"__esModule",{value:!0});var S=x.default=void 0,U=B(E()),z=r;S=x.default=(0,U.default)((0,z.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle");const H="_containerForm_1v965_1",J="_form_1v965_19",K="_formContainer_1v965_41",h={containerForm:H,form:J,formContainer:K};function Q(){const M=R(),[i,_]=s.useState(!1),[e,I]=s.useState({name:"",email:"",password:"",rePassword:""}),[u,w]=s.useState(!1),[j,c]=s.useState(""),v=()=>_(o=>!o),y=o=>{o.preventDefault()},n=o=>{const{name:t,value:a}=o.target;I(p=>({...p,[t]:a}))},P=()=>e.name.trim()?e.email.trim()?/\S+@\S+\.\S+/.test(e.email)?e.password.length<6?"Password must be at least 6 characters long":e.password!==e.rePassword?"Passwords don't match":"":"Email is invalid":"Email is required":"Name is required",F=async o=>{o.preventDefault();const t=P();if(t){c(t);return}w(!0),c("");try{const a={id:0,name:e.name,passwordHash:e.password,email:e.email,userOpenings:[],userClaims:[]};await D(a),M("/login")}catch(a){console.error("Registration failed:",a);const p=a instanceof Error?a.message:"Registration failed. Please try again.";c(p)}finally{w(!1)}};return r.jsx("div",{className:h.containerForm,children:r.jsxs("div",{className:h.form,children:[r.jsx("h1",{children:"Registration"}),r.jsxs("form",{onSubmit:F,className:h.formContainer,children:[r.jsxs(l,{sx:{m:1,width:"25ch","& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"primary.main"},"&:hover fieldset":{borderColor:"primary.main"},"&.Mui-focused fieldset":{borderColor:"primary.main"}},"& .MuiInputLabel-root":{color:"primary.main"}},variant:"outlined",color:"primary",children:[r.jsx(d,{htmlFor:"outlined-adornment-name",children:"Name"}),r.jsx(m,{id:"outlined-adornment-name",type:"text",name:"name",value:e.name,onChange:n,endAdornment:r.jsx(f,{position:"end",children:r.jsx(S,{color:"primary"})}),label:"Name"})]}),r.jsxs(l,{sx:{m:1,width:"25ch","& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"primary.main"},"&:hover fieldset":{borderColor:"primary.main"},"&.Mui-focused fieldset":{borderColor:"primary.main"}},"& .MuiInputLabel-root":{color:"primary.main"}},variant:"outlined",color:"primary",children:[r.jsx(d,{htmlFor:"outlined-adornment-email",children:"Email"}),r.jsx(m,{id:"outlined-adornment-email",type:"email",name:"email",value:e.email,onChange:n,label:"Email"})]}),r.jsxs(l,{sx:{m:1,width:"25ch","& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"primary.main"},"&:hover fieldset":{borderColor:"primary.main"},"&.Mui-focused fieldset":{borderColor:"primary.main"}},"& .MuiInputLabel-root":{color:"primary.main"}},variant:"outlined",color:"primary",children:[r.jsx(d,{htmlFor:"outlined-adornment-password",children:"Password"}),r.jsx(m,{id:"outlined-adornment-password",type:i?"text":"password",name:"password",value:e.password,onChange:n,endAdornment:r.jsx(f,{position:"end",children:r.jsx(g,{"aria-label":"toggle password visibility",onClick:v,onMouseDown:y,edge:"end",color:"primary",children:i?r.jsx(C,{}):r.jsx(b,{})})}),label:"Password"})]}),r.jsxs(l,{sx:{m:1,width:"25ch","& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"primary.main"},"&:hover fieldset":{borderColor:"primary.main"},"&.Mui-focused fieldset":{borderColor:"primary.main"}},"& .MuiInputLabel-root":{color:"primary.main"}},variant:"outlined",color:"primary",children:[r.jsx(d,{htmlFor:"outlined-adornment-repassword",children:"Re Password"}),r.jsx(m,{id:"outlined-adornment-repassword",type:i?"text":"password",name:"rePassword",value:e.rePassword,onChange:n,endAdornment:r.jsx(f,{position:"end",children:r.jsx(g,{"aria-label":"toggle repassword visibility",onClick:v,onMouseDown:y,edge:"end",color:"primary",children:i?r.jsx(C,{}):r.jsx(b,{})})}),label:"Re Password"})]}),r.jsx(O,{type:"submit",variant:"contained",endIcon:u?r.jsx($,{size:20,color:"inherit"}):r.jsx(q,{}),disabled:u,children:u?"Signing Up...":"Sign Up"})]}),j&&r.jsx(k,{severity:"error",style:{marginTop:"1rem"},children:j})]})})}function er(){return r.jsxs(r.Fragment,{children:[r.jsx(A,{}),r.jsx(Q,{}),r.jsx(L,{})]})}export{er as default};
